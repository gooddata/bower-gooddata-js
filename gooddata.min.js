/* Copyright (C) 2007-2015, GoodData(R) Corporation. All rights reserved. */
/* gooddata - v1.0.8 */
/* 2017-02-10 10:38:03 */
/* Latest git commit: "0c23f4d" */


!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("isomorphic-fetch")):"function"==typeof define&&define.amd?define(["isomorphic-fetch"],e):"object"==typeof exports?exports.gooddata=e(require("isomorphic-fetch")):t.gooddata=e(t["isomorphic-fetch"])}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),u=r(o),i=n(68),a=r(i),c=n(69),f=r(c),s=n(81),l=r(s),d=n(127),p=r(d),v=n(67),h=r(v),g=n(128),m=r(g),b={config:h,xhr:u,user:a,md:f,execution:l,project:p,catalogue:m};e["default"]=b,t.exports=b},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function u(t){P=Object.assign({},P,t)}function i(t){var e={setRequestHeader:function(e,n){t.headers.set(e,n)}};(0,x["default"])(t.beforeSend)&&t.beforeSend(e)}function a(t,e,n){var r=t,o=e;return n&&(t.indexOf(n)===-1&&(r=n+t),o.mode="cors",o.credentials="include"),{url:r,settings:o}}function c(t,e){return A.then(function(n){if(!n.ok){var r=new Error("Unauthorized");throw r.response=n,r}return A=null,p(t,e)},function(t){return A=null,t})}function f(t){var e=new Headers({Accept:"application/json; charset=utf-8","Content-Type":"application/json"}),n=Object.assign({},P,t);return n.pollDelay=void 0!==n.pollDelay?n.pollDelay:_,n.headers=e,n.body=n.data?n.data:n.body,n.mode="same-origin",n.credentials="same-origin",(0,w["default"])(n.body)&&(n.body=JSON.stringify(n.body)),n}function s(t,e){if(!A){var n=a("/gdc/account/token",f({}),S.domain),r=n.url,o=n.settings;A=fetch(r,o).then(function(t){if(401===t.status){var e=new Error("Unauthorized");throw e.response=t,e}return t})}return c(t,e)}function l(t){return t.indexOf("/gdc/account/login")!==-1}function d(t,e){return new Promise(function(n,r){setTimeout(function(){p(t,e).then(n,r)},e.pollDelay)})}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f(e),r=a(t,n,S.domain),o=r.url,u=r.settings;return i(u),A?c(o,u):fetch(o,u).then(function(t){if(401===t.status){if(l(o)){var e=new Error("Unauthorized");throw e.response=t,e}return s(o,u)}if(202===t.status&&!u.dontPollOnResult){var n=o,r=u;return t.headers.has("Location")&&(n=t.headers.get("Location")),r.method="GET",delete r.data,delete r.body,d(n,r)}return t}).then(D)}function v(t){return function(e,n){var r=(0,g["default"])({method:t},n);return p(e,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.put=e.post=e.get=e.parseJSON=void 0;var h=n(2),g=o(h),m=n(65),b=o(m),y=n(51),x=o(y),j=n(54),w=o(j);e.ajaxSetup=u,e.ajax=p,n(66);var O=n(67),S=r(O),_=1e3,A=void 0,P={},T=e.parseJSON=function(t){return t.json()},D=function(t){if(t.status>=200&&t.status<399)return t;if(t instanceof Error&&(0,b["default"])(t,"response"))throw t;var e=new Error(t.statusText);throw e.response=t,e};e.get=function(t,e){var n=(0,g["default"])({method:"GET"},e);return p(t,n).then(T)},e.post=v("POST"),e.put=v("PUT")},function(t,e,n){var r=n(3),o=n(58),u=o(function(t,e,n){r(t,e,n)});t.exports=u},function(t,e,n){function r(t,e,n,d,p){if(t!==e){if(!f(e)&&!l(e))var v=a(e);u(v||e,function(u,a){if(v&&(a=u,u=e[a]),s(u))p||(p=new o),c(t,e,a,n,r,d,p);else{var f=d?d(t[a],u,a+"",t,e,p):void 0;void 0===f&&(f=u),i(t,a,f)}})}}var o=n(4),u=n(12),i=n(13),a=n(15),c=n(16),f=n(46),s=n(43),l=n(55);t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(5),u=n(6),i=n(9),a=n(10),c=n(11);r.prototype.clear=o,r.prototype["delete"]=u,r.prototype.get=i,r.prototype.has=a,r.prototype.set=c,t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():i.call(e,n,1),--this.size,!0}var o=n(7),u=Array.prototype,i=u.splice;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(8);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(7);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(7);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(7);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e,n){(void 0===n||u(t[e],n))&&("number"!=typeof e||void 0!==n||e in t)||o(t,e,n)}var o=n(14),u=n(8);t.exports=r},function(t,e){function n(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=Object.defineProperty;t.exports=n},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t,e,n,r,h,g,m){var b=t[n],y=e[n],x=m.get(y);if(x)return void o(t,n,x);var j=g?g(b,y,n+"",t,e,m):void 0,w=void 0===j;w&&(j=y,c(y)||p(y)?c(b)?j=b:f(b)?j=i(b):(w=!1,j=u(y,!0)):d(y)||a(y)?a(b)?j=v(b):!l(b)||r&&s(b)?(w=!1,j=u(y,!0)):j=b:w=!1),w&&(m.set(y,j),h(j,y,r,g,m),m["delete"](y)),o(t,n,j)}var o=n(13),u=n(17),i=n(24),a=n(48),c=n(46),f=n(49),s=n(51),l=n(43),d=n(54),p=n(55),v=n(56);t.exports=r},function(t,e,n){function r(t,e,n,j,w,O,S){var P;if(j&&(P=O?j(t,w,O,S):j(t)),void 0!==P)return P;if(!b(t))return t;var T=g(t);if(T){if(P=p(t),!e)return f(t,P)}else{var E=d(t),F=E==_||E==A;if(m(t))return c(t,e);if(E==D||E==x||F&&!O){if(P=h(F?{}:t),!e)return s(t,a(P,t))}else{if(!$[E])return O?t:{};P=v(t,E,r,e)}}S||(S=new o);var k=S.get(t);if(k)return k;if(S.set(t,P),!T)var I=n?l(t):y(t);return u(I||t,function(o,u){I&&(u=o,o=t[u]),i(P,u,r(o,e,n,j,u,t,S))}),P}var o=n(4),u=n(12),i=n(18),a=n(19),c=n(23),f=n(24),s=n(25),l=n(27),d=n(28),p=n(39),v=n(40),h=n(41),g=n(46),m=n(47),b=n(43),y=n(21),x="[object Arguments]",j="[object Array]",w="[object Boolean]",O="[object Date]",S="[object Error]",_="[object Function]",A="[object GeneratorFunction]",P="[object Map]",T="[object Number]",D="[object Object]",E="[object RegExp]",F="[object Set]",k="[object String]",I="[object Symbol]",M="[object WeakMap]",U="[object ArrayBuffer]",N="[object DataView]",R="[object Float32Array]",C="[object Float64Array]",B="[object Int8Array]",q="[object Int16Array]",L="[object Int32Array]",J="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",$={};$[x]=$[j]=$[U]=$[N]=$[w]=$[O]=$[R]=$[C]=$[B]=$[q]=$[L]=$[P]=$[T]=$[D]=$[E]=$[F]=$[k]=$[I]=$[J]=$[z]=$[V]=$[W]=!0,$[S]=$[_]=$[M]=!1,t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&u(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(14),u=n(8),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return t&&o(e,u(e),t)}var o=n(20),u=n(21);t.exports=r},function(t,e,n){function r(t,e,n,r){var i=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var f=e[a],s=r?r(n[f],t[f],f,n,t):void 0;void 0===s&&(s=t[f]),i?u(n,f,s):o(n,f,s)}return n}var o=n(18),u=n(14);t.exports=r},function(t,e,n){var r=n(22),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e){return o(t,u(t),e)}var o=n(20),u=n(26);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(22),o=r(Object.keys,Object);t.exports=o},function(t,e,n){var r=n(29),o=n(33),u=n(34),i=n(35),a=n(36),c=n(37),f=n(38),s="[object Map]",l="[object Object]",d="[object Promise]",p="[object Set]",v="[object WeakMap]",h="[object DataView]",g=Object.prototype,m=g.toString,b=f(r),y=f(o),x=f(u),j=f(i),w=f(a),O=c;(r&&O(new r(new ArrayBuffer(1)))!=h||o&&O(new o)!=s||u&&O(u.resolve())!=d||i&&O(new i)!=p||a&&O(new a)!=v)&&(O=function(t){var e=m.call(t),n=e==l?t.constructor:void 0,r=n?f(n):void 0;if(r)switch(r){case b:return h;case y:return s;case x:return d;case j:return p;case w:return v}return e}),t.exports=O},function(t,e,n){var r=n(30),o=n(31),u=r(o,"DataView");t.exports=u},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){var r=n(32),o="object"==typeof self&&self&&self.Object===Object&&self,u=r||o||Function("return this")();t.exports=u},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(30),o=n(31),u=r(o,"Map");t.exports=u},function(t,e,n){var r=n(30),o=n(31),u=r(o,"Promise");t.exports=u},function(t,e,n){var r=n(30),o=n(31),u=r(o,"Set");t.exports=u},function(t,e,n){var r=n(30),o=n(31),u=r(o,"WeakMap");t.exports=u},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return"function"!=typeof t.constructor||i(t)?{}:o(u(t))}var o=n(42),u=n(44),i=n(45);t.exports=r},function(t,e,n){function r(t){return o(t)?u(t):{}}var o=n(43),u=Object.create;t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(22),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e){function n(){return!1}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return u(t)&&o(t)}var o=n(50),u=n(53);t.exports=r},function(t,e,n){function r(t){return null!=t&&u(t.length)&&!o(t)}var o=n(51),u=n(52);t.exports=r},function(t,e,n){function r(t){var e=o(t)?c.call(t):"";return e==u||e==i}var o=n(43),u="[object Function]",i="[object GeneratorFunction]",a=Object.prototype,c=a.toString;t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){if(!u(t)||d.call(t)!=i)return!1;var e=o(t);if(null===e)return!0;var n=s.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==l}var o=n(44),u=n(53),i="[object Object]",a=Function.prototype,c=Object.prototype,f=a.toString,s=c.hasOwnProperty,l=f.call(Object),d=c.toString;t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return o(t,u(t))}var o=n(20),u=n(57);t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&u(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,i)}return e})}var o=n(59),u=n(64);t.exports=r},function(t,e,n){function r(t,e){return i(u(t,e,o),t+"")}var o=n(60),u=n(61),i=n(63);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){return e=u(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=u(r.length-e,0),c=Array(a);++i<a;)c[i]=r[e+i];i=-1;for(var f=Array(e+1);++i<e;)f[i]=r[i];return f[e]=n(c),o(t,this,f)}}var o=n(62),u=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){function n(t,e){return null!=t&&o.call(t,e)}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(e,n){e.exports=t},function(t,e){"use strict";function n(t){var n=t||"",u=n.match(r);if(null===t)return void(e.domain=o=void 0);if(!u)throw new Error(t+" is not a valid url");e.domain=o="https://"+u[0].replace(/^https:\/\//,"").replace(/\/$/,"")}Object.defineProperty(e,"__esModule",{value:!0}),e.setCustomDomain=n;var r="(?:(https)://+|(www\\.)?)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*",o=e.domain=void 0},function(t,e,n){"use strict";function r(){return new Promise(function(t,e){(0,c.ajax)("/gdc/account/token",{method:"GET"}).then(function(e){e.ok&&t(!0),t(!1)},function(n){401===n.response.status?t(!1):e(n)})})}function o(t,e){return(0,c.post)("/gdc/account/login",{body:JSON.stringify({postUserLogin:{login:t,password:e,remember:1,captcha:"",verifyCaptcha:""}})}).then(c.parseJSON)}function u(){return r().then(function(t){return t?(0,c.get)("/gdc/app/account/bootstrap").then(function(t){var e=t.bootstrapResource.accountSetting.links.self,n=e.match(/([^\/]+)\/?$/)[1];return(0,c.ajax)("/gdc/account/login/"+n,{method:"delete"})}):Promise.resolve()})}function i(t,e){return(0,c.put)("/gdc/account/profile/"+t+"/settings",{data:e})}function a(){return(0,c.get)("/gdc/app/account/bootstrap").then(function(t){var e=t.bootstrapResource,n={login:e.accountSetting.login,loginMD5:e.current.loginMD5,firstName:e.accountSetting.firstName,lastName:e.accountSetting.lastName,organizationName:e.settings.organizationName,profileUri:e.accountSetting.links.self};return n})}Object.defineProperty(e,"__esModule",{value:!0}),e.isLoggedIn=r,e.login=o,e.logout=u,e.updateProfileSettings=i,e.getAccountInfo=a;var c=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=50,r="/gdc/md/"+t+"/objects/get",o=(0,O["default"])(e,n),u=o.map(function(t){var e={get:{items:t}};return(0,D.post)(r,{data:JSON.stringify(e)}).then(function(t){if(!t.ok){var e=new Error(t.statusText);throw e.response=t,e}return t.json()}).then(function(t){return(0,_["default"])(t,["objects","items"])})});return Promise.all(u).then(j["default"])}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.types,o=void 0===r?[]:r,u=n.nearest,i=void 0!==u&&u,a="/gdc/md/"+t+"/using2",c={inUse:{uri:e,types:o,nearest:i?1:0}};return(0,D.post)(a,{data:JSON.stringify(c)}).then(function(t){if(!t.ok){var e=new Error(t.statusText);throw e.response=t,e}return t.json()}).then(function(t){return t.entries})}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.types,o=void 0===r?[]:r,u=n.nearest,i=void 0!==u&&u,a="/gdc/md/"+t+"/using2",c={inUseMany:{uris:e,types:o,nearest:i?1:0}};return(0,D.post)(a,{data:JSON.stringify(c)}).then(function(t){if(!t.ok){var e=new Error(t.statusText);throw e.response=t,e}return t.json()}).then(function(t){return t.useMany})}function a(t){var e=t.map(function(t){return(0,D.get)(t)});return Promise.all(e).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){var e=t[0];return e.attributeDisplayForm?{type:"attribute",uri:e.attributeDisplayForm.meta.uri,formOf:e.attributeDisplayForm.content.formOf,name:e.attributeDisplayForm.meta.title}:e.metric?{type:"metric",uri:e.metric.meta.uri,name:e.metric.meta.title}:void 0}),o={},u=[],i=0,a=[];return r.forEach(function(t,e){t.formOf&&(a.push((0,D.get)(t.formOf)),o[t.uri]=e,u[i]=e,i+=1)}),Promise.all(a).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach(function(t,e){var n=u[e],o=r[n];o.name=t[0].attribute.meta.title}),r})})}function c(t){return(0,D.get)("/gdc/md/"+t+"/query/attributes").then(function(t){return t.ok?t.json():t}).then((0,E.getIn)("query.entries"))}function f(t){return(0,D.get)("/gdc/md/"+t+"/query/dimensions").then(function(t){return t.ok?t.json():t}).then((0,E.getIn)("query.entries"))}function s(t,e){function n(t,e){var n=e?"?type="+e:"";return(0,D.get)("/gdc/md/"+t+"/query/folders"+n).then((0,E.getIn)("query.entries"))}switch(e){case"fact":case"metric":return n(t,e);case"attribute":return f(t);default:return Promise.all([n(t,"fact"),n(t,"metric"),f(t)]).then(function(t,e,n){return{fact:t,metric:e,attribute:n}})}}function l(t){return(0,D.get)("/gdc/md/"+t+"/query/facts").then(function(t){return t.ok?t.json():t}).then((0,E.getIn)("query.entries"))}function d(t){return(0,D.get)("/gdc/md/"+t+"/query/metrics").then(function(t){return t.ok?t.json():t}).then((0,E.getIn)("query.entries"))}function p(t,e){return(0,D.post)("/gdc/md/"+t+"/availablemetrics",{data:JSON.stringify(e)}).then(function(t){return t.ok?t.json():t}).then(function(t){return t.entries})}function v(t,e){return(0,D.post)("/gdc/md/"+t+"/drillcrosspaths",{body:JSON.stringify(e)}).then(function(t){return t.ok?t.json():t}).then(function(t){return t.drillcrosspath.links})}function h(t,e){return(0,D.post)("/gdc/md/"+t+"/availablefacts",{data:JSON.stringify(e)}).then(function(t){return t.ok?t.json():t}).then(function(t){return t.entries})}function g(t){return(0,D.get)(t)}function m(t,e){return s(t,e).then(function(n){function r(t){return Promise.all(t.map(g)).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map(function(t){return t.metric})})}function o(t,e){return t.map(function(t){return t[e]})}var u=function(t){t.forEach(function(t){t.items.sort(function(t,e){return t.meta.title<e.meta.title?-1:t.meta.title>e.meta.title?1:0})}),t.sort(function(t,e){return t.title<e.title?-1:t.title>e.title?1:0})},i=o(n,"link"),a=o(n,"title");return Promise.all(i.map(g)).then(function(){for(var n=arguments.length,i=Array(n),f=0;f<n;f++)i[f]=arguments[f];if("attribute"===e)c(t).then(function(t){var e=[];i.forEach(function(t){t.dimension.content.attributes.forEach(function(t){e.push(t.meta.uri)})});var n=t.filter(function(t){return e.indexOf(t.link)===-1}).map(function(t){return t.link});return Promise.all(n.map(g)).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.attribute}),o=i.map(function(t){return{title:t.dimension.meta.title,items:t.dimension.content.attributes}});return o.push({title:"Unsorted",items:r}),u(o),o})});else{if("metric"!==e)return Promise.reject();var s=function(){var e=i.map(function(t){return o(t.folder.content.entries,"link")});return{v:d(t).then(function(t){var n=[];i.forEach(function(t){t.folder.content.entries.forEach(function(t){n.push(t.link)})});var o=t.filter(function(t){return n.indexOf(t.link)===-1}).map(function(t){return t.link});return e.push(o),Promise.all(e.map(function(t){return r(t)})).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t,e){return{title:a[e]||"Unsorted",items:t}});return u(r),r})})}}();if("object"===("undefined"==typeof s?"undefined":T(s)))return s.v}})})}function b(t){function e(t){if(t.attribute)return t.attribute.content.displayForms[0].meta.identifier;if(t.dimension)return t.dimension.content.attributes.content.displayForms[0].meta.identifier;if(t.metric)return t.metric.meta.identifier;throw Error("Unknown object!")}return(0,P["default"])(t)?Promise.resolve(e(t)):g(t).then(function(t){return e(t)})}function y(t,e){function n(t){var e=t.attribute?t.attribute:t.metric;return e.meta.uri}return(0,D.ajax)("/gdc/md/"+t+"/identifiers",{method:"POST",body:{identifierToUri:[e]}}).then(D.parseJSON).then(function(n){var r=n.identifiers.filter(function(t){return t.identifier===e});if(r[0])return g(r[0].uri);throw new Error("Object with identifier "+e+" not found in project "+t)}).then(function(t){return t.attributeDisplayForm?g(t.attributeDisplayForm.content.formOf).then(function(t){return n(t)}):n(t)})}Object.defineProperty(e,"__esModule",{value:!0});var x=n(70),j=r(x),w=n(75),O=r(w),S=n(78),_=r(S),A=n(54),P=r(A),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getObjects=o,e.getObjectUsing=u,e.getObjectUsingMany=i,e.getElementDetails=a,e.getAttributes=c,e.getDimensions=f,e.getFolders=s,e.getFacts=l,e.getMetrics=d,e.getAvailableMetrics=p,e.getAvailableAttributes=v,e.getAvailableFacts=h,e.getObjectDetails=g,e.getFoldersWithItems=m,e.getObjectIdentifier=b,e.getObjectUri=y;var D=n(1),E=n(80)},function(t,e,n){function r(t){var e=t?t.length:0;return e?o(t,1):[]}var o=n(71);t.exports=r},function(t,e,n){function r(t,e,n,i,a){var c=-1,f=t.length;for(n||(n=u),a||(a=[]);++c<f;){var s=t[c];e>0&&n(s)?e>1?r(s,e-1,n,i,a):o(a,s):i||(a[a.length]=s)}return a}var o=n(72),u=n(73);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t){return i(t)||u(t)||!!(a&&t&&t[a])}var o=n(74),u=n(48),i=n(46),a=o?o.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){var r=n(31),o=r.Symbol;t.exports=o},function(t,e,n){function r(t,e,n){e=(n?u(t,e,n):void 0===e)?1:c(i(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var f=0,s=0,l=Array(a(r/e));f<r;)l[s++]=o(t,f,f+=e);return l}var o=n(76),u=n(64),i=n(77),a=Math.ceil,c=Math.max;t.exports=r},function(t,e){function n(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var u=Array(o);++r<o;)u[r]=t[r+e];return u}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(79);t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getIn=void 0;var o=n(78),u=r(o);e.getIn=function(t){return function(e){return(0,u["default"])(e,t)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={isLoaded:!1},u=r.extended?"extendedTabularDataResult":"tabularDataResult",i={execution:{columns:e}};return["filters","where","orderBy","definitions"].forEach(function(t){n[t]&&(i.execution[t]=n[t])}),(0,$.post)("/gdc/internal/projects/"+t+"/experimental/executions",{body:JSON.stringify(i)}).then($.parseJSON).then(function(t){return o.headers=Q((0,P["default"])(n,"metricMappings"),t.executionResult.headers),(0,$.ajax)(t.executionResult[u],r)}).then(function(t){return 204===t.status?{status:t.status,result:""}:t.json().then(function(e){return{status:t.status,result:e}})}).then(function(t){var e=t.result,n=t.status;return Object.assign({},o,{rawData:(0,P["default"])(e,u+".values",[]),warnings:(0,P["default"])(e,u+".warnings",[]),isLoaded:!0,isEmpty:204===n})})}function c(t){var e=kt.match(t);return(0,W["default"])(e,"Unknown factory for: "+t),e}function f(t){var e=(0,R["default"])(t,function(t){var e=t.listAttributeFilter;return Mt(e)}),n=(0,F["default"])(e,Pt),r=(0,F["default"])((0,R["default"])(t,function(t){var e=t.dateFilter;return It(e)}),Tt),o=[].concat(u(r)).reduce(m["default"],{}),i={$and:n};return q({},o,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDataForVis=e.mdToExecutionConfiguration=void 0;var s=n(82),l=r(s),d=n(70),p=r(d),v=n(96),h=r(v),g=n(101),m=r(g),b=n(102),y=r(b),x=n(103),j=r(x),w=n(104),O=r(w),S=n(105),_=r(S),A=n(78),P=r(A),T=n(107),D=r(T),E=n(108),F=r(E),k=n(109),I=r(k),M=n(114),U=r(M),N=n(116),R=r(N),C=n(117),B=r(C),q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(){function t(t,e){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(c){o=!0,u=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw u}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.getData=a;var J=n(118),z=r(J),V=n(122),W=r(V),$=n(1),H=n(124),G=r(H),Y=n(125),Z=(0,j["default"])(_["default"]),K=function(t,e){return(t.element===e.id||t.element===e.uri)&&void 0===e.measureIndex},Q=function(t,e){return t&&t.forEach(function(t){var n=(0,I["default"])(e,(0,h["default"])(K,t));n&&(n.measureIndex=t.measureIndex,n.isPoP=t.isPoP)}),e},X=255,tt=function(t,e){var n=X-t.length;return e&&e.length>n?")"===e[e.length-1]?e.substring(0,n-2)+"…)"+t:e.substring(0,n-1)+"…"+t:""+e+t},et=(0,h["default"])(tt,""),nt=" - previous year",rt=(0,h["default"])(tt,nt),ot="#,##0.00%",ut=function(t){return(0,D["default"])((0,F["default"])((0,P["default"])(t,"measureFilters",[]),function(t){return(0,_["default"])((0,P["default"])(t,"listAttributeFilter.default.attributeElements",[]))}))},it=function(t){var e=(0,P["default"])(t,"type");return"fact"===e||"attribute"===e||!ut(t)},at=function(t){var e=(0,P["default"])(t,"listAttributeFilter.attribute"),n=(0,P["default"])(t,"listAttributeFilter.default.attributeElements",[]);if((0,_["default"])(n))return null;var r=(0,F["default"])(n,function(t){return"["+t+"]"}),o=(0,P["default"])(t,"listAttributeFilter.default.negativeSelection")?"NOT ":"";return"["+e+"] "+o+"IN ("+r.join(",")+")"},ct=function(t){var e=(0,P["default"])(t,"aggregation","").toUpperCase(),n=(0,P["default"])(t,"objectUri"),r=(0,R["default"])((0,F["default"])((0,P["default"])(t,"measureFilters"),at),function(t){return!!t});return"SELECT "+(e?e+"(["+n+"])":"["+n+"]")+(Z(r)?" WHERE "+r.join(" AND "):"")},ft=function(t,e){var n=t.category,r="SELECT ["+(0,P["default"])(e,"objectUri")+"]";it(e)&&(r=ct((0,l["default"])(e,"measureFilters")));var o=(0,P["default"])(n,"attribute"),u=(0,R["default"])((0,F["default"])((0,P["default"])(e,"measureFilters"),at),function(t){return!!t}),i=Z(u)?" WHERE "+u.join(" AND "):"";return"SELECT ("+r+i+") / ("+r+" BY ALL ["+o+"]"+i+")"},st=function(t,e){var n=(0,P["default"])(t,"attribute");return"SELECT "+e+" FOR PREVIOUS (["+n+"])"},lt=function(t,e,n){return(0,z["default"])(n+"#"+t+"#"+e)},dt=function(t,e,n,r){var o=(0,P["default"])(t,"objectUri").split("/"),u=L(o,6),i=u[3],a=u[5],c=i+"_"+a,f=r(n(t)),s=(0,_["default"])((0,P["default"])(t,"measureFilters",[])),l=(0,P["default"])(t,"type"),d=s||ut(t)?"":"filtered_";return l+"_"+c+".generated."+d+e+"."+f},pt=function(t){var e=t.category;return"date"===e.type},vt=function(t){var e=t.dateFilter;return e},ht=function(t){var e=t.categories;return e},gt=function(t){var e=t.filters;return e},mt=function(t){var e=(0,I["default"])(ht(t),pt);return(0,P["default"])(e,"category")},bt=function(t){var e=(0,I["default"])(gt(t),vt);return(0,P["default"])(e,"dateFilter")},yt=function(t){return mt(t)||bt(t)},xt=function(t,e){if((0,O["default"])(t))return t;var n=(0,P["default"])(t,"sortByPoP");return e&&n||!e&&!n?(0,P["default"])(t,"direction"):null},jt=function(t,e,n){return{element:(0,P["default"])(t,"objectUri"),sort:xt((0,P["default"])(t,"sort")),meta:{measureIndex:n}}},wt=function(t,e,n){var r=t.format,o=t.sort,u=et(t.title),i=(0,h["default"])(lt,u,r),a=(0,P["default"])(t,"aggregation","base").toLowerCase(),c=dt(t,a,ct,i),f={metricDefinition:{identifier:c,expression:ct(t),title:u,format:r}};return{element:c,definition:f,sort:xt(o),meta:{measureIndex:n}}},Ot=function(t,e,n){var r=(0,U["default"])(ht(e)),o=(0,h["default"])(ft,r),u=et((0,P["default"])(t,"title")),i=(0,h["default"])(lt,u,ot);return{element:dt(t,"percent",o,i),definition:{metricDefinition:{identifier:dt(t,"percent",o,i),expression:o(t),title:u,format:ot}},sort:xt((0,P["default"])(t,"sort")),meta:{measureIndex:n}}},St=function(t,e,n){var r=rt((0,P["default"])(t,"title")),o=(0,P["default"])(t,"format"),u=(0,h["default"])(lt,r,o),i=yt(e),a=void 0,c=(0,h["default"])(st,i,"["+(0,P["default"])(t,"objectUri")+"]");it(t)&&(a=wt(t,e,n),c=(0,h["default"])(st,i,"("+(0,P["default"])(a,"definition.metricDefinition.expression")+")"));var f=dt(t,"pop",c,u),s=[{element:f,definition:{metricDefinition:{identifier:f,expression:c(),title:r,format:o}},sort:xt((0,P["default"])(t,"sort"),!0),meta:{measureIndex:n,isPoP:!0}}];return a?s.push(a):s.push(jt(t,e,n)),s},_t=function(t,e,n){var r=yt(e),o=Ot(t,e,n),u=rt((0,P["default"])(t,"title")),i=ot,a=(0,h["default"])(lt,u,i),c=(0,h["default"])(st,r,"("+(0,P["default"])(o,"definition.metricDefinition.expression")+")"),f=dt(t,"pop",c,a),s=[{element:f,definition:{metricDefinition:{identifier:f,expression:c(),title:u,format:i}},sort:xt((0,P["default"])(t,"sort"),!0),meta:{measureIndex:n,isPoP:!0}}];return s.push(o),s},At=function(t){var e=t.category;return{element:(0,P["default"])(e,"displayForm"),sort:(0,P["default"])(e,"sort")}},Pt=function(t){var e=(0,P["default"])(t,"listAttributeFilter.default.attributeElements",[]),n=(0,F["default"])(e,function(t){return{id:(0,y["default"])(t.split("="))}}),r=(0,P["default"])(t,"listAttributeFilter.displayForm"),o=(0,P["default"])(t,"listAttributeFilter.default.negativeSelection");return o?i({},r,{$not:{$in:n}}):i({},r,{$in:n})},Tt=function(t){var e=(0,P["default"])(t,"dateFilter.dimension")||(0,P["default"])(t,"dateFilter.dataSet")||(0,P["default"])(t,"dateFilter.dataset"),n=(0,P["default"])(t,"dateFilter.granularity"),r=[(0,P["default"])(t,"dateFilter.from"),(0,P["default"])(t,"dateFilter.to")];return i({},e,{$between:r,$granularity:n})},Dt=function(t){var e=t.showPoP;return e},Et=function(t){var e=t.showInPercent;return e},Ft=function(t){var e=t.type;return"metric"===e},kt=new G["default"];kt.addRule([Dt,Et],_t),kt.addRule([Dt],St),kt.addRule([Et],Ot),kt.addRule([it],wt),kt.addRule([Ft],jt);var It=function(t){return void 0!==(0,P["default"])(t,"from")&&void 0!==(0,P["default"])(t,"to")},Mt=function(t){return Z((0,P["default"])(t,["default","attributeElements"]))},Ut=function(t){return{column:(0,P["default"])(t,"element"),direction:(0,P["default"])(t,"sort")}},Nt=function(t,e,n){return"bar"===n&&Z(t)?[{column:(0,U["default"])((0,B["default"])((0,F["default"])(t,"element"))),direction:"desc"}]:(0,F["default"])((0,R["default"])([].concat(u(e),u(t)),function(t){return t.sort}),Ut)},Rt=e.mdToExecutionConfiguration=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,P["default"])(t,"buckets"),r=(0,F["default"])(n.measures,function(t){var e=t.measure;return e}),o=(0,p["default"])((0,F["default"])(r,function(t,e){return c(t)(t,n,e)})),i=ht(n),a=gt(n);e.removeDateItems&&(i=(0,R["default"])(i,function(t){var e=t.category;return"date"!==e.type}),a=(0,R["default"])(a,function(t){return!t.dateFilter})),i=(0,F["default"])(i,At);var s=(0,B["default"])((0,F["default"])([].concat(u(i),u(o)),"element"));return{columns:s,orderBy:Nt(o,i,(0,P["default"])(t,"type")),definitions:(0,Y.sortDefinitions)((0,B["default"])((0,F["default"])(o,"definition"))),where:s.length?f(a):{},metricMappings:(0,F["default"])(o,function(t){
return q({element:t.element},t.meta)})}},Ct=function(t){return Promise.all((0,F["default"])((0,F["default"])((0,P["default"])(t,"buckets.measures"),function(t){var e=t.measure;return e}),function(t){return t.showPoP===!0||t.measureFilters.length>0?(0,$.get)(t.objectUri).then(function(e){return q({},t,{format:(0,P["default"])(e,"metric.content.format",t.format)})}):Promise.resolve(t)}))};e.getDataForVis=function(t,e,n){return Ct(e).then(function(r){var u=e;u.buckets.measures=(0,F["default"])(r,function(t){return{measure:t}});var i=Rt(e),c=i.columns,f=o(i,["columns"]);return a(t,c,f,n)})}},function(t,e,n){var r=n(83),o=n(84),u=n(91),i=n(93),a=n(94),c=n(95),f=i(function(t,e){return null==t?{}:(e=r(e,c),u(t,o(a(t),e)))});t.exports=f},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t,e,n,r){var l=-1,d=u,p=!0,v=t.length,h=[],g=e.length;if(!v)return h;n&&(e=a(e,c(n))),r?(d=i,p=!1):e.length>=s&&(d=f,p=!1,e=new o(e));t:for(;++l<v;){var m=t[l],b=n?n(m):m;if(m=r||0!==m?m:0,p&&b===b){for(var y=g;y--;)if(e[y]===b)continue t;h.push(m)}else d(e,b,r)||h.push(m)}return h}var o=n(85),u=n(86),i=n(88),a=n(83),c=n(89),f=n(90),s=200;t.exports=r},function(t,e,n){function r(){if(!arguments.length)return[];var t=arguments[0];return o(t)?t:[t]}var o=n(46);t.exports=r},function(t,e,n){function r(t,e){var n=t?t.length:0;return!!n&&o(t,e,0)>-1}var o=n(87);t.exports=r},function(t,e){function n(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t,e){var n=t?t.length:0;return!!n&&o(t,e,0)>-1}var o=n(87);t.exports=r},function(t,e,n){function r(t,e){return t=Object(t),o(t,e,function(e,n){return n in t})}var o=n(92);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,u=e.length,i={};++r<u;){var a=e[r],c=t[a];n(c,a)&&o(i,a,c)}return i}var o=n(14);t.exports=r},function(t,e,n){function r(t){return i(u(t,void 0,o),t+"")}var o=n(70),u=n(61),i=n(63);t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r=n(59),o=n(97),u=n(99),i=n(100),a=32,c=r(function(t,e){var n=i(e,u(c));return o(t,a,void 0,e,n)});c.placeholder={},t.exports=c},function(t,e,n){function r(t,e,n,r){function c(){for(var e=-1,u=arguments.length,a=-1,l=r.length,d=Array(l+u),p=this&&this!==i&&this instanceof c?s:t;++a<l;)d[a]=r[a];for(;u--;)d[a++]=arguments[++e];return o(p,f?n:this,d)}var f=e&a,s=u(t);return c}var o=n(62),u=n(98),i=n(31),a=1;t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=o(t.prototype),r=t.apply(n,e);return u(r)?r:n}}var o=n(42),u=n(43);t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(18),o=n(20),u=n(58),i=n(50),a=n(45),c=n(21),f=Object.prototype,s=f.hasOwnProperty,l=u(function(t,e){if(a(e)||i(e))return void o(e,c(e),t);for(var n in e)s.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=n},function(t,e){function n(t){if("function"!=typeof t)throw new TypeError(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var r="Expected a function";t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&u(t)&&c.call(t)==i}var o=n(46),u=n(53),i="[object String]",a=Object.prototype,c=a.toString;t.exports=r},function(t,e,n){function r(t){if(a(t)&&(i(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||u(t)))return!t.length;var e=o(t);if(e==l||e==d)return!t.size;if(f(t))return!s(t).length;for(var n in t)if(v.call(t,n))return!1;return!0}var o=n(28),u=n(48),i=n(46),a=n(50),c=n(47),f=n(45),s=n(106),l="[object Map]",d="[object Set]",p=Object.prototype,v=p.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(22),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){var r=n(110),o=n(112),u=r(o);t.exports=u},function(t,e,n){function r(t){return function(e,n,r){var a=Object(e);if(!u(e)){var c=o(n,3);e=i(e),n=function(t){return c(a[t],t,a)}}var f=t(e,n,r);return f>-1?a[c?e[f]:f]:void 0}}var o=n(111),u=n(50),i=n(21);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){var r=t?t.length:0;if(!r)return-1;var c=null==n?0:i(n);return c<0&&(c=a(r+c,0)),o(t,u(e,3),c)}var o=n(113),u=n(111),i=n(77),a=Math.max;t.exports=r},function(t,e){function n(t,e,n,r){for(var o=t.length,u=n+(r?1:-1);r?u--:++u<o;)if(e(t[u],u,t))return u;return-1}t.exports=n},function(t,e,n){t.exports=n(115)},function(t,e){function n(t){return t&&t.length?t[0]:void 0}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u}t.exports=n},function(t,e){function n(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var u=t[e];u&&(o[r++]=u)}return o}t.exports=n},function(t,e,n){!function(){var e=n(119),r=n(120).utf8,o=n(121),u=n(120).bin,i=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?u.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),c=8*t.length,f=1732584193,s=-271733879,l=-1732584194,d=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[c>>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;for(var v=i._ff,h=i._gg,g=i._hh,m=i._ii,p=0;p<a.length;p+=16){var b=f,y=s,x=l,j=d;f=v(f,s,l,d,a[p+0],7,-680876936),d=v(d,f,s,l,a[p+1],12,-389564586),l=v(l,d,f,s,a[p+2],17,606105819),s=v(s,l,d,f,a[p+3],22,-1044525330),f=v(f,s,l,d,a[p+4],7,-176418897),d=v(d,f,s,l,a[p+5],12,1200080426),l=v(l,d,f,s,a[p+6],17,-1473231341),s=v(s,l,d,f,a[p+7],22,-45705983),f=v(f,s,l,d,a[p+8],7,1770035416),d=v(d,f,s,l,a[p+9],12,-1958414417),l=v(l,d,f,s,a[p+10],17,-42063),s=v(s,l,d,f,a[p+11],22,-1990404162),f=v(f,s,l,d,a[p+12],7,1804603682),d=v(d,f,s,l,a[p+13],12,-40341101),l=v(l,d,f,s,a[p+14],17,-1502002290),s=v(s,l,d,f,a[p+15],22,1236535329),f=h(f,s,l,d,a[p+1],5,-165796510),d=h(d,f,s,l,a[p+6],9,-1069501632),l=h(l,d,f,s,a[p+11],14,643717713),s=h(s,l,d,f,a[p+0],20,-373897302),f=h(f,s,l,d,a[p+5],5,-701558691),d=h(d,f,s,l,a[p+10],9,38016083),l=h(l,d,f,s,a[p+15],14,-660478335),s=h(s,l,d,f,a[p+4],20,-405537848),f=h(f,s,l,d,a[p+9],5,568446438),d=h(d,f,s,l,a[p+14],9,-1019803690),l=h(l,d,f,s,a[p+3],14,-187363961),s=h(s,l,d,f,a[p+8],20,1163531501),f=h(f,s,l,d,a[p+13],5,-1444681467),d=h(d,f,s,l,a[p+2],9,-51403784),l=h(l,d,f,s,a[p+7],14,1735328473),s=h(s,l,d,f,a[p+12],20,-1926607734),f=g(f,s,l,d,a[p+5],4,-378558),d=g(d,f,s,l,a[p+8],11,-2022574463),l=g(l,d,f,s,a[p+11],16,1839030562),s=g(s,l,d,f,a[p+14],23,-35309556),f=g(f,s,l,d,a[p+1],4,-1530992060),d=g(d,f,s,l,a[p+4],11,1272893353),l=g(l,d,f,s,a[p+7],16,-155497632),s=g(s,l,d,f,a[p+10],23,-1094730640),f=g(f,s,l,d,a[p+13],4,681279174),d=g(d,f,s,l,a[p+0],11,-358537222),l=g(l,d,f,s,a[p+3],16,-722521979),s=g(s,l,d,f,a[p+6],23,76029189),f=g(f,s,l,d,a[p+9],4,-640364487),d=g(d,f,s,l,a[p+12],11,-421815835),l=g(l,d,f,s,a[p+15],16,530742520),s=g(s,l,d,f,a[p+2],23,-995338651),f=m(f,s,l,d,a[p+0],6,-198630844),d=m(d,f,s,l,a[p+7],10,1126891415),l=m(l,d,f,s,a[p+14],15,-1416354905),s=m(s,l,d,f,a[p+5],21,-57434055),f=m(f,s,l,d,a[p+12],6,1700485571),d=m(d,f,s,l,a[p+3],10,-1894986606),l=m(l,d,f,s,a[p+10],15,-1051523),s=m(s,l,d,f,a[p+1],21,-2054922799),f=m(f,s,l,d,a[p+8],6,1873313359),d=m(d,f,s,l,a[p+15],10,-30611744),l=m(l,d,f,s,a[p+6],15,-1560198380),s=m(s,l,d,f,a[p+13],21,1309151649),f=m(f,s,l,d,a[p+4],6,-145523070),d=m(d,f,s,l,a[p+11],10,-1120210379),l=m(l,d,f,s,a[p+2],15,718787259),s=m(s,l,d,f,a[p+9],21,-343485551),f=f+b>>>0,s=s+y>>>0,l=l+x>>>0,d=d+j>>>0}return e.endian([f,s,l,d])};i._ff=function(t,e,n,r,o,u,i){var a=t+(e&n|~e&r)+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._gg=function(t,e,n,r,o,u,i){var a=t+(e&r|n&~r)+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._hh=function(t,e,n,r,o,u,i){var a=t+(e^n^r)+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._ii=function(t,e,n,r,o,u,i){var a=t+(n^(e|~r))+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(i(t,n));return n&&n.asBytes?r:n&&n.asString?u.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],u=0;u<4;u++)8*r+6*u<=8*t.length?n.push(e.charAt(o>>>6*(3-u)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,o,u,i,a,c){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var f;if(void 0===n)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,o,u,i,a,c],l=0;f=new Error(n.replace(/%s/g,function(){return s[l++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};t.exports=n}).call(e,n(123))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function u(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function i(){h&&p&&(h=!1,p.length?v=p.concat(v):g=-1,v.length&&a())}function a(){if(!h){var t=o(i);h=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,h=!1,u(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var s,l,d=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,v=[],h=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=n(107),i=r(u),a=n(109),c=r(a),f=function(){function t(t,e){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(c){o=!0,u=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw u}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(122),d=r(l),p=function(){function t(){o(this,t),this.rules=[]}return s(t,[{key:"addRule",value:function(t,e){this.rules.push([t,e])}},{key:"match",value:function(t){var e=(0,c["default"])(this.rules,function(e){var n=f(e,1),r=n[0];return(0,i["default"])(r,function(e){return e(t)})}),n=f(e,2),r=n[1];return(0,d["default"])(r,"Callback not found :-("),r}}]),t}();e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.metricDefinition;return(e.expression.match(v)||[]).map(function(t){return t.substring(1,t.length-1)})}function u(t){var e=t.metricDefinition;return e.identifier}function i(t,e){var n=e.dependencies,r=(0,l["default"])(t,"identifier");return 0===(0,p["default"])(n,r).length}function a(t,e){for(var n=0;n<e.length;n+=1){var r=e[n];i(t,r)&&(t.push(r),e.splice(n,1),n-=1)}}function c(t){for(var e=[],n=void 0;t.length>0;)if(n=t.length,a(e,t),t.length===n)throw new Error("Metric defintions cannot be sorted due to missing dependencies.");return e}function f(t){var e=t.map(function(t){return{definition:t,identifier:u(t),dependencies:o(t)}});return(0,l["default"])(c(e),"definition")}Object.defineProperty(e,"__esModule",{value:!0});var s=n(108),l=r(s),d=n(126),p=r(d);e.sortDefinitions=f;var v=/{\S+}/g},function(t,e,n){var r=n(84),o=n(71),u=n(59),i=n(49),a=u(function(t,e){return i(t)?r(t,o(e,1,i,!0)):[]});t.exports=a},function(t,e,n){"use strict";function r(){return(0,s.get)("/gdc/app/account/bootstrap").then(function(t){var e=t.bootstrapResource.current.project;return e?t.bootstrapResource.current.project.links.self.split("/").pop():null})}function o(t){return(0,s.get)("/gdc/account/profile/"+t+"/projects").then(function(t){return t.projects.map(function(t){return t.project})})}function u(t){return(0,s.get)("/gdc/md/"+t+"/query/datasets").then((0,l.getIn)("query.entries"))}function i(t){return(0,s.get)("/gdc/projects/"+t+"/styleSettings").then(function(t){return t.styleSettings.chartPalette.map(function(t){return{r:t.fill.r,g:t.fill.g,b:t.fill.b}})},function(t){if(200===t.status)return d;throw new Error(t.statusText)})}function a(t,e){return(0,s.put)("/gdc/projects/"+t+"/styleSettings",{data:{styleSettings:{chartPalette:e.map(function(t,e){return{fill:t,guid:"guid"+e}})}}})}function c(t){var e="/gdc/app/account/bootstrap?projectId="+t;return(0,s.get)(e).then(function(t){return t.bootstrapResource.current.timezone})}function f(t,e){var n="/gdc/md/"+t+"/service/timezone",r={service:{timezone:e}};return(0,s.ajax)(n,{method:"POST",body:r}).then(s.parseJSON)}Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentProjectId=r,e.getProjects=o,e.getDatasets=u,e.getColorPalette=i,e.setColorPalette=a,e.getTimezone=c,e.setTimezone=f;var s=n(1),l=n(80),d=[{r:43,g:107,b:174},{r:105,g:170,b:81},{r:238,g:177,b:76},{r:213,g:60,b:56},{r:137,g:77,b:148},{r:115,g:115,b:115},{r:68,g:169,b:190},{r:150,g:189,b:95},{r:253,g:147,b:105},{r:225,g:93,b:134},{r:124,g:111,b:173},{r:165,g:165,b:165},{r:122,g:166,b:213},{r:130,g:208,b:141},{r:255,g:210,b:137},{r:241,g:132,b:128},{r:191,g:144,b:198},{r:191,g:191,b:191}]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w(t),r=(0,y.mdToExecutionConfiguration)({buckets:m({},t,{categories:n})},e),o=(0,g["default"])(r,"definitions");return(0,g["default"])(r,"columns").map(function(t){var e=(0,v["default"])(o,function(e){var n=e.metricDefinition;return(0,g["default"])(n,"identifier")===t}),n=(0,g["default"])(e,"metricDefinition.expression");return n?n:t})}function u(t,e){var n="/gdc/internal/projects/"+t+"/loadCatalog";return(0,b.post)(n,{data:{catalogRequest:e}}).then(b.parseJSON).then(function(t){return t.catalogResponse})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d["default"])(m({},x,e,O(e)),["dataSetIdentifier","returnAllDateDataSets"]),r=(0,g["default"])((0,s["default"])(e),"bucketItems.buckets");return r?(r=o(r),u(t,m({},n,{bucketItems:r}))):u(t,n)}function a(t,e){var n="/gdc/internal/projects/"+t+"/loadDateDataSets";return(0,b.post)(n,{data:{dateDataSetsRequest:e}}).then(b.parseJSON).then(function(t){return t.dateDataSetsResponse})}function c(t,e){var n=(0,g["default"])((0,s["default"])(e),"bucketItems.buckets");n&&(n=o(n,{removeDateItems:!0}));var r=(0,d["default"])(m({},j,x,e,O(e),{bucketItems:n}),["filter","types","paging","dataSetIdentifier","returnAllDateDataSets","returnAllRelatedDateDataSets"]);return a(t,r)}Object.defineProperty(e,"__esModule",{value:!0});var f=n(129),s=r(f),l=n(82),d=r(l),p=n(109),v=r(p),h=n(78),g=r(h),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.loadItems=i,e.loadDateDataSets=c;var b=n(1),y=n(81),x={types:["attribute","metric","fact"],paging:{offset:0}},j={includeUnavailableDateDataSetsCount:!0,includeAvailableDateAttributes:!0},w=function(t){return(0,g["default"])(t,"categories").map(function(t){var e=t.category;return{category:m({},e,{displayForm:(0,g["default"])(e,"attribute")})}})},O=function(t){return(0,g["default"])(t,"returnAllRelatedDateDataSets")?{}:(0,g["default"])(t,"returnAllDateDataSets")?{requiredDataSets:{type:"ALL"}}:(0,g["default"])(t,"dataSetIdentifier")?{requiredDataSets:{type:"CUSTOM",customIdentifiers:[(0,g["default"])(t,"dataSetIdentifier")]}}:{requiredDataSets:{type:"PRODUCTION"}}}},function(t,e,n){function r(t){return o(t,!0,!0)}var o=n(17);t.exports=r}])});