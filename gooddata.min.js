/* Copyright (C) 2007-2015, GoodData(R) Corporation. All rights reserved. */
/* gooddata - v1.1.0 */
/* 2017-02-22 14:55:56 */
/* Latest git commit: "b160960" */


!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("isomorphic-fetch")):"function"==typeof define&&define.amd?define(["isomorphic-fetch"],e):"object"==typeof exports?exports.gooddata=e(require("isomorphic-fetch")):t.gooddata=e(t["isomorphic-fetch"])}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),u=r(o),i=n(68),a=r(i),f=n(69),c=r(f),s=n(88),l=r(s),d=n(146),p=r(d),v=n(67),h=r(v),g=n(147),m=r(g),b={config:h,xhr:u,user:a,md:c,execution:l,project:p,catalogue:m};e["default"]=b,t.exports=b},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function u(t){P=Object.assign({},P,t)}function i(t){var e={setRequestHeader:function(e,n){t.headers.set(e,n)}};(0,x["default"])(t.beforeSend)&&t.beforeSend(e)}function a(t,e,n){var r=t,o=e;return n&&(t.indexOf(n)===-1&&(r=n+t),o.mode="cors",o.credentials="include"),{url:r,settings:o}}function f(t,e){return A.then(function(n){if(!n.ok){var r=new Error("Unauthorized");throw r.response=n,r}return A=null,p(t,e)},function(t){return A=null,t})}function c(t){var e=new Headers({Accept:"application/json; charset=utf-8","Content-Type":"application/json"}),n=Object.assign({},P,t);return n.pollDelay=void 0!==n.pollDelay?n.pollDelay:_,n.headers=e,n.body=n.data?n.data:n.body,n.mode="same-origin",n.credentials="same-origin",(0,w["default"])(n.body)&&(n.body=JSON.stringify(n.body)),n}function s(t,e){if(!A){var n=a("/gdc/account/token",c({}),S.domain),r=n.url,o=n.settings;A=fetch(r,o).then(function(t){if(401===t.status){var e=new Error("Unauthorized");throw e.response=t,e}return t})}return f(t,e)}function l(t){return t.indexOf("/gdc/account/login")!==-1}function d(t,e){return new Promise(function(n,r){setTimeout(function(){p(t,e).then(n,r)},e.pollDelay)})}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(e),r=a(t,n,S.domain),o=r.url,u=r.settings;return i(u),A?f(o,u):fetch(o,u).then(function(t){if(401===t.status){if(l(o)){var e=new Error("Unauthorized");throw e.response=t,e}return s(o,u)}if(202===t.status&&!u.dontPollOnResult){var n=o,r=u;return t.headers.has("Location")&&(n=t.headers.get("Location")),r.method="GET",delete r.data,delete r.body,d(n,r)}return t}).then(E)}function v(t){return function(e,n){var r=(0,g["default"])({method:t},n);return p(e,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.put=e.post=e.get=e.parseJSON=void 0;var h=n(2),g=o(h),m=n(55),b=o(m),y=n(37),x=o(y),j=n(42),w=o(j);e.ajaxSetup=u,e.ajax=p,n(66);var O=n(67),S=r(O),_=1e3,A=void 0,P={},T=e.parseJSON=function(t){return t.json()},E=function(t){if(t.status>=200&&t.status<399)return t;if(t instanceof Error&&(0,b["default"])(t,"response"))throw t;var e=new Error(t.statusText);throw e.response=t,e};e.get=function(t,e){var n=(0,g["default"])({method:"GET"},e);return p(t,n).then(T)},e.post=v("POST"),e.put=v("PUT")},function(t,e,n){var r=n(3),o=n(48),u=o(function(t,e,n){r(t,e,n)});t.exports=u},function(t,e,n){function r(t,e,n,s,l){t!==e&&i(e,function(i,c){if(f(i))l||(l=new o),a(t,e,c,n,r,s,l);else{var d=s?s(t[c],i,c+"",t,e,l):void 0;void 0===d&&(d=i),u(t,c,d)}},c)}var o=n(4),u=n(12),i=n(16),a=n(18),f=n(29),c=n(47);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(5),u=n(6),i=n(9),a=n(10),f=n(11);r.prototype.clear=o,r.prototype["delete"]=u,r.prototype.get=i,r.prototype.has=a,r.prototype.set=f,t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():i.call(e,n,1),--this.size,!0}var o=n(7),u=Array.prototype,i=u.splice;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(8);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(7);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(7);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(7);t.exports=r},function(t,e,n){function r(t,e,n){(void 0===n||u(t[e],n))&&(void 0!==n||e in t)||o(t,e,n)}var o=n(13),u=n(8);t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var o=n(14);t.exports=r},function(t,e,n){var r=n(15),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){var r=n(17),o=r();t.exports=o},function(t,e){function n(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var f=i[t?a:++o];if(n(u[f],f,u)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t,e,n,r,b,y,x){var j=t[n],w=e[n],O=x.get(w);if(O)return void o(t,n,O);var S=y?y(j,w,n+"",t,e,x):void 0,_=void 0===S;if(_){var A=s(w),P=!A&&d(w),T=!A&&!P&&g(w);S=w,A||P||T?s(j)?S=j:l(j)?S=a(j):P?(_=!1,S=u(w,!0)):T?(_=!1,S=i(w,!0)):S=[]:h(w)||c(w)?(S=j,c(j)?S=m(j):(!v(j)||r&&p(j))&&(S=f(w))):_=!1}_&&(x.set(w,S),b(S,w,r,y,x),x["delete"](w)),o(t,n,S)}var o=n(12),u=n(19),i=n(23),a=n(26),f=n(27),c=n(33),s=n(34),l=n(35),d=n(41),p=n(37),v=n(29),h=n(42),g=n(43),m=n(44);t.exports=r},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}var o=n(21),u="object"==typeof e&&e&&!e.nodeType&&e,i=u&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===u,f=a?o.Buffer:void 0,c=f?f.allocUnsafe:void 0;t.exports=r}).call(e,n(20)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r=n(22),o="object"==typeof self&&self&&self.Object===Object&&self,u=r||o||Function("return this")();t.exports=u},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var o=n(24);t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}var o=n(25);t.exports=r},function(t,e,n){var r=n(21),o=r.Uint8Array;t.exports=o},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t){return"function"!=typeof t.constructor||i(t)?{}:o(u(t))}var o=n(28),u=n(30),i=n(32);t.exports=r},function(t,e,n){var r=n(29),o=Object.create,u=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=u},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(31),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){return u(t)&&o(t)}var o=n(36),u=n(40);t.exports=r},function(t,e,n){function r(t){return null!=t&&u(t.length)&&!o(t)}var o=n(37),u=n(39);t.exports=r},function(t,e,n){function r(t){if(!u(t))return!1;var e=o(t);return e==a||e==f||e==i||e==c}var o=n(38),u=n(29),i="[object AsyncFunction]",a="[object Function]",f="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){if(!i(t)||o(t)!=a)return!1;var e=u(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==d}var o=n(38),u=n(30),i=n(40),a="[object Object]",f=Function.prototype,c=Object.prototype,s=f.toString,l=c.hasOwnProperty,d=s.call(Object);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return o(t,u(t))}var o=n(45),u=n(47);t.exports=r},function(t,e,n){function r(t,e,n,r){var i=!n;n||(n={});for(var a=-1,f=e.length;++a<f;){var c=e[a],s=r?r(n[c],t[c],c,n,t):void 0;void 0===s&&(s=t[c]),i?u(n,c,s):o(n,c,s)}return n}var o=n(46),u=n(13);t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&u(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(13),u=n(8),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&u(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var f=n[r];f&&t(e,f,r,i)}return e})}var o=n(49),u=n(54);t.exports=r},function(t,e,n){function r(t,e){return i(u(t,e,o),t+"")}var o=n(50),u=n(51),i=n(53);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){return e=u(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=u(r.length-e,0),f=Array(a);++i<a;)f[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(f),o(t,this,c)}}var o=n(52),u=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t,e){return null!=t&&u(t,e,o)}var o=n(56),u=n(57);t.exports=r},function(t,e){function n(t,e){return null!=t&&o.call(t,e)}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){e=o(e,t);for(var r=-1,s=e.length,l=!1;++r<s;){var d=c(e[r]);if(!(l=null!=t&&n(t,d)))break;t=t[d]}return l||++r!=s?l:(s=null==t?0:t.length,!!s&&f(s)&&a(d,s)&&(i(t)||u(t)))}var o=n(58),u=n(33),i=n(34),a=n(64),f=n(39),c=n(65);t.exports=r},function(t,e,n){function r(t,e){return o(t)?t:u(t,e)?[t]:i(a(t))}var o=n(34),u=n(59),i=n(61),a=n(63);t.exports=r},function(t,e,n){function r(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!u(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}var o=n(34),u=n(60),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){var r=n(62),o=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(t){var e=[];return o.test(t)&&e.push(""),t.replace(u,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=a},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(e,n){e.exports=t},function(t,e){"use strict";function n(t){var n=t||"",u=n.match(r);if(null===t)return void(e.domain=o=void 0);if(!u)throw new Error(t+" is not a valid url");e.domain=o="https://"+u[0].replace(/^https:\/\//,"").replace(/\/$/,"")}Object.defineProperty(e,"__esModule",{value:!0}),e.setCustomDomain=n;var r="(?:(https)://+|(www\\.)?)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*",o=e.domain=void 0},function(t,e,n){"use strict";function r(){return new Promise(function(t,e){(0,f.ajax)("/gdc/account/token",{method:"GET"}).then(function(e){e.ok&&t(!0),t(!1)},function(n){401===n.response.status?t(!1):e(n)})})}function o(t,e){return(0,f.post)("/gdc/account/login",{body:JSON.stringify({postUserLogin:{login:t,password:e,remember:1,captcha:"",verifyCaptcha:""}})}).then(f.parseJSON)}function u(){return r().then(function(t){return t?(0,f.get)("/gdc/app/account/bootstrap").then(function(t){var e=t.bootstrapResource.accountSetting.links.self,n=e.match(/([^\/]+)\/?$/)[1];return(0,f.ajax)("/gdc/account/login/"+n,{method:"delete"})}):Promise.resolve()})}function i(t,e){return(0,f.put)("/gdc/account/profile/"+t+"/settings",{data:e})}function a(){return(0,f.get)("/gdc/app/account/bootstrap").then(function(t){var e=t.bootstrapResource,n={login:e.accountSetting.login,loginMD5:e.current.loginMD5,firstName:e.accountSetting.firstName,lastName:e.accountSetting.lastName,organizationName:e.settings.organizationName,profileUri:e.accountSetting.links.self};return n})}Object.defineProperty(e,"__esModule",{value:!0}),e.isLoggedIn=r,e.login=o,e.logout=u,e.updateProfileSettings=i,e.getAccountInfo=a;var f=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=50,r="/gdc/md/"+t+"/objects/get",o=(0,A["default"])(e,n),u=o.map(function(t){var e={get:{items:t}};return(0,k.post)(r,{data:JSON.stringify(e)}).then(function(t){if(!t.ok){var e=new Error(t.statusText);throw e.response=t,e}return t.json()}).then(function(t){return(0,T["default"])(t,["objects","items"])})});return Promise.all(u).then(S["default"])}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.types,o=void 0===r?[]:r,u=n.nearest,i=void 0!==u&&u,a="/gdc/md/"+t+"/using2",f={inUse:{uri:e,types:o,nearest:i?1:0}};return(0,k.post)(a,{data:JSON.stringify(f)}).then(function(t){if(!t.ok){var e=new Error(t.statusText);throw e.response=t,e}return t.json()}).then(function(t){return t.entries})}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.types,o=void 0===r?[]:r,u=n.nearest,i=void 0!==u&&u,a="/gdc/md/"+t+"/using2",f={inUseMany:{uris:e,types:o,nearest:i?1:0}};return(0,k.post)(a,{data:JSON.stringify(f)}).then(function(t){if(!t.ok){var e=new Error(t.statusText);throw e.response=t,e}return t.json()}).then(function(t){return t.useMany})}function a(t){var e=t.map(function(t){return(0,k.get)(t)});return Promise.all(e).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){var e=t[0];return e.attributeDisplayForm?{type:"attribute",uri:e.attributeDisplayForm.meta.uri,formOf:e.attributeDisplayForm.content.formOf,name:e.attributeDisplayForm.meta.title}:e.metric?{type:"metric",uri:e.metric.meta.uri,name:e.metric.meta.title}:void 0}),o={},u=[],i=0,a=[];return r.forEach(function(t,e){t.formOf&&(a.push((0,k.get)(t.formOf)),o[t.uri]=e,u[i]=e,i+=1)}),Promise.all(a).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach(function(t,e){var n=u[e],o=r[n];o.name=t[0].attribute.meta.title}),r})})}function f(t){return(0,k.get)("/gdc/md/"+t+"/query/attributes").then(function(t){return t.ok?t.json():t}).then((0,F.getIn)("query.entries"))}function c(t){return(0,k.get)("/gdc/md/"+t+"/query/dimensions").then(function(t){return t.ok?t.json():t}).then((0,F.getIn)("query.entries"))}function s(t,e){function n(t,e){var n=e?"?type="+e:"";return(0,k.get)("/gdc/md/"+t+"/query/folders"+n).then((0,F.getIn)("query.entries"))}switch(e){case"fact":case"metric":return n(t,e);case"attribute":return c(t);default:return Promise.all([n(t,"fact"),n(t,"metric"),c(t)]).then(function(t,e,n){return{fact:t,metric:e,attribute:n}})}}function l(t){return(0,k.get)("/gdc/md/"+t+"/query/facts").then(function(t){return t.ok?t.json():t}).then((0,F.getIn)("query.entries"))}function d(t){return(0,k.get)("/gdc/md/"+t+"/query/metrics").then(function(t){return t.ok?t.json():t}).then((0,F.getIn)("query.entries"))}function p(t,e){return(0,k.post)("/gdc/md/"+t+"/availablemetrics",{data:JSON.stringify(e)}).then(function(t){return t.ok?t.json():t}).then(function(t){return t.entries})}function v(t,e){return(0,k.post)("/gdc/md/"+t+"/drillcrosspaths",{body:JSON.stringify(e)}).then(function(t){return t.ok?t.json():t}).then(function(t){return t.drillcrosspath.links})}function h(t,e){return(0,k.post)("/gdc/md/"+t+"/availablefacts",{data:JSON.stringify(e)}).then(function(t){return t.ok?t.json():t}).then(function(t){return t.entries})}function g(t){return(0,k.get)(t)}function m(t,e){return s(t,e).then(function(n){function r(t){return Promise.all(t.map(g)).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map(function(t){return t.metric})})}function o(t,e){return t.map(function(t){return t[e]})}var u=function(t){t.forEach(function(t){t.items.sort(function(t,e){return t.meta.title<e.meta.title?-1:t.meta.title>e.meta.title?1:0})}),t.sort(function(t,e){return t.title<e.title?-1:t.title>e.title?1:0})},i=o(n,"link"),a=o(n,"title");return Promise.all(i.map(g)).then(function(){for(var n=arguments.length,i=Array(n),c=0;c<n;c++)i[c]=arguments[c];if("attribute"!==e){if("metric"===e){var s=i.map(function(t){return o(t.folder.content.entries,"link")});return d(t).then(function(t){var e=[];i.forEach(function(t){t.folder.content.entries.forEach(function(t){e.push(t.link)})});var n=t.filter(function(t){return e.indexOf(t.link)===-1}).map(function(t){return t.link});return s.push(n),Promise.all(s.map(function(t){return r(t)})).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t,e){return{title:a[e]||"Unsorted",items:t}});return u(r),r})})}return Promise.reject()}f(t).then(function(t){var e=[];i.forEach(function(t){t.dimension.content.attributes.forEach(function(t){e.push(t.meta.uri)})});var n=t.filter(function(t){return e.indexOf(t.link)===-1}).map(function(t){return t.link});return Promise.all(n.map(g)).then(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.attribute}),o=i.map(function(t){return{title:t.dimension.meta.title,items:t.dimension.content.attributes}});return o.push({title:"Unsorted",items:r}),u(o),o})})})})}function b(t){function e(t){if(t.attribute)return t.attribute.content.displayForms[0].meta.identifier;if(t.dimension)return t.dimension.content.attributes.content.displayForms[0].meta.identifier;if(t.metric)return t.metric.meta.identifier;throw Error("Unknown object!")}return(0,D["default"])(t)?Promise.resolve(e(t)):g(t).then(function(t){return e(t)})}function y(t,e){function n(t){var e=t.attribute?t.attribute:t.metric;return e.meta.uri}return(0,k.ajax)("/gdc/md/"+t+"/identifiers",{method:"POST",body:{identifierToUri:[e]}}).then(k.parseJSON).then(function(n){var r=n.identifiers.filter(function(t){return t.identifier===e});if(r[0])return g(r[0].uri);throw new Error("Object with identifier "+e+" not found in project "+t)}).then(function(t){return t.attributeDisplayForm?g(t.attributeDisplayForm.content.formOf).then(function(t){return n(t)}):n(t)})}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,w["default"])(n,["limit","offset","order","filter","prompt"]),o=Object.keys(r).map(function(t){return t+"="+encodeURIComponent(r[t])}).join("&"),u=(0,w["default"])(n,["uris","complement","includeTotalCountWithoutFilters","restrictiveDefinition"]);return(0,k.post)(("/gdc/md/"+t+"/obj/"+e+"/validElements?"+o).replace(/\?$/,""),{data:JSON.stringify({validElementsRequest:u})}).then(k.parseJSON)}Object.defineProperty(e,"__esModule",{value:!0});var j=n(70),w=r(j),O=n(78),S=r(O),_=n(83),A=r(_),P=n(86),T=r(P),E=n(42),D=r(E);e.getObjects=o,e.getObjectUsing=u,e.getObjectUsingMany=i,e.getElementDetails=a,e.getAttributes=f,e.getDimensions=c,e.getFolders=s,e.getFacts=l,e.getMetrics=d,e.getAvailableMetrics=p,e.getAvailableAttributes=v,e.getAvailableFacts=h,e.getObjectDetails=g,e.getFoldersWithItems=m,e.getObjectIdentifier=b,e.getObjectUri=y,e.getValidElements=x;var k=n(1),F=n(87)},function(t,e,n){var r=n(71),o=n(77),u=o(function(t,e){return null==t?{}:r(t,e)});t.exports=u},function(t,e,n){function r(t,e){return o(t,e,function(e,n){return u(t,n)})}var o=n(72),u=n(75);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,a=e.length,f={};++r<a;){var c=e[r],s=o(t,c);n(s,c)&&u(f,i(c,t),s)}return f}var o=n(73),u=n(74),i=n(58);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[u(e[n++])];return n&&n==r?t:void 0}var o=n(58),u=n(65);t.exports=r},function(t,e,n){function r(t,e,n,r){if(!a(t))return t;e=u(e,t);for(var c=-1,s=e.length,l=s-1,d=t;null!=d&&++c<s;){var p=f(e[c]),v=n;if(c!=l){var h=d[p];v=r?r(h,p,d):void 0,void 0===v&&(v=a(h)?h:i(e[c+1])?[]:{})}o(d,p,v),d=d[p]}return t}var o=n(46),u=n(58),i=n(64),a=n(29),f=n(65);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&u(t,e,o)}var o=n(76),u=n(57);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return i(u(t,void 0,o),t+"")}var o=n(78),u=n(51),i=n(53);t.exports=r},function(t,e,n){function r(t){var e=null==t?0:t.length;return e?o(t,1):[]}var o=n(79);t.exports=r},function(t,e,n){function r(t,e,n,i,a){var f=-1,c=t.length;for(n||(n=u),a||(a=[]);++f<c;){var s=t[f];e>0&&n(s)?e>1?r(s,e-1,n,i,a):o(a,s):i||(a[a.length]=s)}return a}var o=n(80),u=n(81);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t){return i(t)||u(t)||!!(a&&t&&t[a])}var o=n(82),u=n(33),i=n(34),a=o?o.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){var r=n(21),o=r.Symbol;t.exports=o},function(t,e,n){function r(t,e,n){e=(n?u(t,e,n):void 0===e)?1:f(i(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var c=0,s=0,l=Array(a(r/e));c<r;)l[s++]=o(t,c,c+=e);return l}var o=n(84),u=n(54),i=n(85),a=Math.ceil,f=Math.max;t.exports=r},function(t,e){function n(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var u=Array(o);++r<o;)u[r]=t[r+e];return u}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(73);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getIn=void 0;var o=n(86),u=r(o);e.getIn=function(t){return function(e){return(0,u["default"])(e,t)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={isLoaded:!1},u=r.extended?"extendedTabularDataResult":"tabularDataResult",i={execution:{columns:e}};return["filters","where","orderBy","definitions"].forEach(function(t){n[t]&&(i.execution[t]=n[t])}),(0,W.post)("/gdc/internal/projects/"+t+"/experimental/executions",{body:JSON.stringify(i)}).then(W.parseJSON).then(function(t){return o.headers=Q((0,P["default"])(n,"metricMappings"),t.executionResult.headers),(0,W.ajax)(t.executionResult[u],r)}).then(function(t){return 204===t.status?{status:t.status,result:""}:t.json().then(function(e){return{status:t.status,result:e}})}).then(function(t){var e=t.result,n=t.status;return Object.assign({},o,{rawData:(0,P["default"])(e,u+".values",[]),warnings:(0,P["default"])(e,u+".warnings",[]),isLoaded:!0,isEmpty:204===n})})}function f(t){var e=Ft.match(t);return(0,V["default"])(e,"Unknown factory for: "+t),e}function c(t){var e=(0,R["default"])(t,function(t){var e=t.listAttributeFilter;return Mt(e)}),n=(0,k["default"])(e,Pt),r=(0,k["default"])((0,R["default"])(t,function(t){var e=t.dateFilter;return It(e)}),Tt),o=[].concat(u(r)).reduce(m["default"],{}),i={$and:n};return B({},o,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDataForVis=e.mdToExecutionConfiguration=void 0;var s=n(89),l=r(s),d=n(78),p=r(d),v=n(109),h=r(v),g=n(114),m=r(g),b=n(106),y=r(b),x=n(115),j=r(x),w=n(116),O=r(w),S=n(117),_=r(S),A=n(86),P=r(A),T=n(119),E=r(T),D=n(120),k=r(D),F=n(121),I=r(F),M=n(126),U=r(M),N=n(128),R=r(N),C=n(129),q=r(C),B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(){function t(t,e){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(f){o=!0,u=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw u}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.getData=a;var J=n(130),z=r(J),$=n(134),V=r($),W=n(1),H=n(136),G=r(H),Y=n(137),Z=(0,j["default"])(_["default"]),K=function(t,e){return(t.element===e.id||t.element===e.uri)&&void 0===e.measureIndex},Q=function(t,e){return t&&t.forEach(function(t){var n=(0,I["default"])(e,(0,h["default"])(K,t));n&&(n.measureIndex=t.measureIndex,n.isPoP=t.isPoP)}),e},X=255,tt=function(t,e){var n=X-t.length;return e&&e.length>n?")"===e[e.length-1]?e.substring(0,n-2)+"…)"+t:e.substring(0,n-1)+"…"+t:""+e+t},et=(0,h["default"])(tt,""),nt=" - previous year",rt=(0,h["default"])(tt,nt),ot="#,##0.00%",ut=function(t){return(0,E["default"])((0,k["default"])((0,P["default"])(t,"measureFilters",[]),function(t){return(0,_["default"])((0,P["default"])(t,"listAttributeFilter.default.attributeElements",[]))}))},it=function(t){var e=(0,P["default"])(t,"type");return"fact"===e||"attribute"===e||!ut(t)},at=function(t){var e=(0,P["default"])(t,"listAttributeFilter.attribute"),n=(0,P["default"])(t,"listAttributeFilter.default.attributeElements",[]);if((0,_["default"])(n))return null;var r=(0,k["default"])(n,function(t){return"["+t+"]"}),o=(0,P["default"])(t,"listAttributeFilter.default.negativeSelection")?"NOT ":"";return"["+e+"] "+o+"IN ("+r.join(",")+")"},ft=function(t){var e=(0,P["default"])(t,"aggregation","").toUpperCase(),n=(0,P["default"])(t,"objectUri"),r=(0,R["default"])((0,k["default"])((0,P["default"])(t,"measureFilters"),at),function(t){return!!t});return"SELECT "+(e?e+"(["+n+"])":"["+n+"]")+(Z(r)?" WHERE "+r.join(" AND "):"")},ct=function(t,e){var n=t.category,r="SELECT ["+(0,P["default"])(e,"objectUri")+"]";it(e)&&(r=ft((0,l["default"])(e,"measureFilters")));var o=(0,P["default"])(n,"attribute"),u=(0,R["default"])((0,k["default"])((0,P["default"])(e,"measureFilters"),at),function(t){return!!t}),i=Z(u)?" WHERE "+u.join(" AND "):"";return"SELECT ("+r+i+") / ("+r+" BY ALL ["+o+"]"+i+")"},st=function(t,e){var n=(0,P["default"])(t,"attribute");return"SELECT "+e+" FOR PREVIOUS (["+n+"])"},lt=function(t,e,n){return(0,z["default"])(n+"#"+t+"#"+e)},dt=function(t,e,n,r){var o=(0,P["default"])(t,"objectUri").split("/"),u=L(o,6),i=u[3],a=u[5],f=i+"_"+a,c=r(n(t)),s=(0,_["default"])((0,P["default"])(t,"measureFilters",[])),l=(0,P["default"])(t,"type"),d=s||ut(t)?"":"filtered_";return l+"_"+f+".generated."+d+e+"."+c},pt=function(t){var e=t.category;return"date"===e.type},vt=function(t){var e=t.dateFilter;return e},ht=function(t){var e=t.categories;return e},gt=function(t){var e=t.filters;return e},mt=function(t){var e=(0,I["default"])(ht(t),pt);return(0,P["default"])(e,"category")},bt=function(t){var e=(0,I["default"])(gt(t),vt);return(0,P["default"])(e,"dateFilter")},yt=function(t){return mt(t)||bt(t)},xt=function(t,e){if((0,O["default"])(t))return t;var n=(0,P["default"])(t,"sortByPoP");return e&&n||!e&&!n?(0,P["default"])(t,"direction"):null},jt=function(t,e,n){return{element:(0,P["default"])(t,"objectUri"),sort:xt((0,P["default"])(t,"sort")),meta:{measureIndex:n}}},wt=function(t,e,n){var r=t.format,o=t.sort,u=et(t.title),i=(0,h["default"])(lt,u,r),a=(0,P["default"])(t,"aggregation","base").toLowerCase(),f=dt(t,a,ft,i),c={metricDefinition:{identifier:f,expression:ft(t),title:u,format:r}};return{element:f,definition:c,sort:xt(o),meta:{measureIndex:n}}},Ot=function(t,e,n){var r=(0,U["default"])(ht(e)),o=(0,h["default"])(ct,r),u=et((0,P["default"])(t,"title")),i=(0,h["default"])(lt,u,ot);return{element:dt(t,"percent",o,i),definition:{metricDefinition:{identifier:dt(t,"percent",o,i),expression:o(t),title:u,format:ot}},sort:xt((0,P["default"])(t,"sort")),meta:{measureIndex:n}}},St=function(t,e,n){var r=rt((0,P["default"])(t,"title")),o=(0,P["default"])(t,"format"),u=(0,h["default"])(lt,r,o),i=yt(e),a=void 0,f=(0,h["default"])(st,i,"["+(0,P["default"])(t,"objectUri")+"]");it(t)&&(a=wt(t,e,n),f=(0,h["default"])(st,i,"("+(0,P["default"])(a,"definition.metricDefinition.expression")+")"));var c=dt(t,"pop",f,u),s=[{element:c,definition:{metricDefinition:{identifier:c,expression:f(),title:r,format:o}},sort:xt((0,P["default"])(t,"sort"),!0),meta:{measureIndex:n,isPoP:!0}}];return a?s.push(a):s.push(jt(t,e,n)),s},_t=function(t,e,n){var r=yt(e),o=Ot(t,e,n),u=rt((0,P["default"])(t,"title")),i=ot,a=(0,h["default"])(lt,u,i),f=(0,h["default"])(st,r,"("+(0,P["default"])(o,"definition.metricDefinition.expression")+")"),c=dt(t,"pop",f,a),s=[{element:c,definition:{metricDefinition:{identifier:c,expression:f(),title:u,format:i}},sort:xt((0,P["default"])(t,"sort"),!0),meta:{measureIndex:n,isPoP:!0}}];return s.push(o),s},At=function(t){var e=t.category;return{element:(0,P["default"])(e,"displayForm"),sort:(0,P["default"])(e,"sort")}},Pt=function(t){var e=(0,P["default"])(t,"listAttributeFilter.default.attributeElements",[]),n=(0,k["default"])(e,function(t){return{id:(0,y["default"])(t.split("="))}}),r=(0,P["default"])(t,"listAttributeFilter.displayForm"),o=(0,P["default"])(t,"listAttributeFilter.default.negativeSelection");return o?i({},r,{$not:{$in:n}}):i({},r,{$in:n})},Tt=function(t){var e=(0,P["default"])(t,"dateFilter.dimension")||(0,P["default"])(t,"dateFilter.dataSet")||(0,P["default"])(t,"dateFilter.dataset"),n=(0,P["default"])(t,"dateFilter.granularity"),r=[(0,P["default"])(t,"dateFilter.from"),(0,P["default"])(t,"dateFilter.to")];return i({},e,{$between:r,$granularity:n})},Et=function(t){var e=t.showPoP;return e},Dt=function(t){var e=t.showInPercent;return e},kt=function(t){var e=t.type;return"metric"===e},Ft=new G["default"];Ft.addRule([Et,Dt],_t),Ft.addRule([Et],St),Ft.addRule([Dt],Ot),Ft.addRule([it],wt),Ft.addRule([kt],jt);var It=function(t){return void 0!==(0,P["default"])(t,"from")&&void 0!==(0,P["default"])(t,"to")},Mt=function(t){return Z((0,P["default"])(t,["default","attributeElements"]))},Ut=function(t){return{column:(0,P["default"])(t,"element"),direction:(0,P["default"])(t,"sort")}},Nt=function(t,e,n){return"bar"===n&&Z(t)?[{column:(0,U["default"])((0,q["default"])((0,k["default"])(t,"element"))),direction:"desc"}]:(0,k["default"])((0,R["default"])([].concat(u(e),u(t)),function(t){return t.sort}),Ut)},Rt=e.mdToExecutionConfiguration=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,P["default"])(t,"buckets"),r=(0,k["default"])(n.measures,function(t){
var e=t.measure;return e}),o=(0,p["default"])((0,k["default"])(r,function(t,e){return f(t)(t,n,e)})),i=ht(n),a=gt(n);e.removeDateItems&&(i=(0,R["default"])(i,function(t){var e=t.category;return"date"!==e.type}),a=(0,R["default"])(a,function(t){return!t.dateFilter})),i=(0,k["default"])(i,At);var s=(0,q["default"])((0,k["default"])([].concat(u(i),u(o)),"element"));return{columns:s,orderBy:Nt(o,i,(0,P["default"])(t,"type")),definitions:(0,Y.sortDefinitions)((0,q["default"])((0,k["default"])(o,"definition"))),where:s.length?c(a):{},metricMappings:(0,k["default"])(o,function(t){return B({element:t.element},t.meta)})}},Ct=function(t){return Promise.all((0,k["default"])((0,k["default"])((0,P["default"])(t,"buckets.measures"),function(t){var e=t.measure;return e}),function(t){return t.showPoP===!0||t.measureFilters.length>0?(0,W.get)(t.objectUri).then(function(e){return B({},t,{format:(0,P["default"])(e,"metric.content.format",t.format)})}):Promise.resolve(t)}))},qt=function(t,e,n){return Ct(e).then(function(r){var u=e;u.buckets.measures=(0,k["default"])(r,function(t){return{measure:t}});var i=Rt(e),f=i.columns,c=o(i,["columns"]);return a(t,f,c,n)})};e.getDataForVis=qt},function(t,e,n){var r=n(90),o=n(91),u=n(105),i=n(58),a=n(45),f=n(108),c=n(77),s=n(101),l=1,d=2,p=4,v=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=i(e,t),c||(c=e.length>1),e}),a(t,s(t),n),c&&(n=o(n,l|d|p,f));for(var v=e.length;v--;)u(n,e[v]);return n});t.exports=v},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t,e,n,P,T,E){var D,I=e&O,M=e&S,N=e&_;if(n&&(D=T?n(t,P,T,E):n(t)),void 0!==D)return D;if(!j(t))return t;var R=y(t);if(R){if(D=g(t),!I)return s(t,D)}else{var C=h(t),q=C==k||C==F;if(x(t))return c(t,I);if(C==U||C==A||q&&!T){if(D=M||q?{}:b(t),!I)return M?d(t,f(D,t)):l(t,a(D,t))}else{if(!Q[C])return T?t:{};D=m(t,C,r,I)}}E||(E=new o);var B=E.get(t);if(B)return B;E.set(t,D);var L=N?M?v:p:M?keysIn:w,J=R?void 0:L(t);return u(J||t,function(o,u){J&&(u=o,o=t[u]),i(D,u,r(o,e,n,u,t,E))}),D}var o=n(4),u=n(92),i=n(46),a=n(93),f=n(95),c=n(19),s=n(26),l=n(96),d=n(98),p=n(100),v=n(101),h=n(102),g=n(103),m=n(104),b=n(27),y=n(34),x=n(41),j=n(29),w=n(94),O=1,S=2,_=4,A="[object Arguments]",P="[object Array]",T="[object Boolean]",E="[object Date]",D="[object Error]",k="[object Function]",F="[object GeneratorFunction]",I="[object Map]",M="[object Number]",U="[object Object]",N="[object RegExp]",R="[object Set]",C="[object String]",q="[object Symbol]",B="[object WeakMap]",L="[object ArrayBuffer]",J="[object DataView]",z="[object Float32Array]",$="[object Float64Array]",V="[object Int8Array]",W="[object Int16Array]",H="[object Int32Array]",G="[object Uint8Array]",Y="[object Uint8ClampedArray]",Z="[object Uint16Array]",K="[object Uint32Array]",Q={};Q[A]=Q[P]=Q[L]=Q[J]=Q[T]=Q[E]=Q[z]=Q[$]=Q[V]=Q[W]=Q[H]=Q[I]=Q[M]=Q[U]=Q[N]=Q[R]=Q[C]=Q[q]=Q[G]=Q[Y]=Q[Z]=Q[K]=!0,Q[D]=Q[k]=Q[B]=!1,t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e){return t&&o(e,u(e),t)}var o=n(45),u=n(94);t.exports=r},function(t,e,n){var r=n(31),o=r(Object.keys,Object);t.exports=o},function(t,e,n){function r(t,e){return t&&o(e,u(e),t)}var o=n(45),u=n(47);t.exports=r},function(t,e,n){function r(t,e){return o(t,u(t),e)}var o=n(45),u=n(97);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t,e){return o(t,u(t),e)}var o=n(45),u=n(99);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(31),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e){return e=o(e,t),t=i(t,e),null==t||delete t[a(u(e))]}var o=n(58),u=n(106),i=n(107),a=n(65);t.exports=r},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e){return e.length<2?t:o(t,u(e,0,-1))}var o=n(73),u=n(84);t.exports=r},function(t,e,n){function r(t){return o(t)?void 0:t}var o=n(42);t.exports=r},function(t,e,n){var r=n(49),o=n(110),u=n(112),i=n(113),a=32,f=r(function(t,e){var n=i(e,u(f));return o(t,a,void 0,e,n)});f.placeholder={},t.exports=f},function(t,e,n){function r(t,e,n,r){function f(){for(var e=-1,u=arguments.length,a=-1,l=r.length,d=Array(l+u),p=this&&this!==i&&this instanceof f?s:t;++a<l;)d[a]=r[a];for(;u--;)d[a++]=arguments[++e];return o(p,c?n:this,d)}var c=e&a,s=u(t);return f}var o=n(52),u=n(111),i=n(21),a=1;t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=o(t.prototype),r=t.apply(n,e);return u(r)?r:n}}var o=n(28),u=n(29);t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(46),o=n(45),u=n(48),i=n(36),a=n(32),f=n(94),c=Object.prototype,s=c.hasOwnProperty,l=u(function(t,e){if(a(e)||i(e))return void o(e,f(e),t);for(var n in e)s.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e){function n(t){if("function"!=typeof t)throw new TypeError(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var r="Expected a function";t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||!u(t)&&i(t)&&o(t)==a}var o=n(38),u=n(34),i=n(40),a="[object String]";t.exports=r},function(t,e,n){function r(t){if(null==t)return!0;if(f(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=u(t);if(e==d||e==p)return!t.size;if(s(t))return!o(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}var o=n(118),u=n(102),i=n(33),a=n(34),f=n(36),c=n(41),s=n(32),l=n(43),d="[object Map]",p="[object Set]",v=Object.prototype,h=v.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(31),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){var r=n(122),o=n(124),u=r(o);t.exports=u},function(t,e,n){function r(t){return function(e,n,r){var a=Object(e);if(!u(e)){var f=o(n,3);e=i(e),n=function(t){return f(a[t],t,a)}}var c=t(e,n,r);return c>-1?a[f?e[c]:c]:void 0}}var o=n(123),u=n(36),i=n(94);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var f=null==n?0:i(n);return f<0&&(f=a(r+f,0)),o(t,u(e,3),f)}var o=n(125),u=n(123),i=n(85),a=Math.max;t.exports=r},function(t,e){function n(t,e,n,r){for(var o=t.length,u=n+(r?1:-1);r?u--:++u<o;)if(e(t[u],u,t))return u;return-1}t.exports=n},function(t,e,n){t.exports=n(127)},function(t,e){function n(t){return t&&t.length?t[0]:void 0}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u}t.exports=n},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var u=t[e];u&&(o[r++]=u)}return o}t.exports=n},function(t,e,n){!function(){var e=n(131),r=n(132).utf8,o=n(133),u=n(132).bin,i=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?u.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),f=8*t.length,c=1732584193,s=-271733879,l=-1732584194,d=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[f>>>5]|=128<<f%32,a[(f+64>>>9<<4)+14]=f;for(var v=i._ff,h=i._gg,g=i._hh,m=i._ii,p=0;p<a.length;p+=16){var b=c,y=s,x=l,j=d;c=v(c,s,l,d,a[p+0],7,-680876936),d=v(d,c,s,l,a[p+1],12,-389564586),l=v(l,d,c,s,a[p+2],17,606105819),s=v(s,l,d,c,a[p+3],22,-1044525330),c=v(c,s,l,d,a[p+4],7,-176418897),d=v(d,c,s,l,a[p+5],12,1200080426),l=v(l,d,c,s,a[p+6],17,-1473231341),s=v(s,l,d,c,a[p+7],22,-45705983),c=v(c,s,l,d,a[p+8],7,1770035416),d=v(d,c,s,l,a[p+9],12,-1958414417),l=v(l,d,c,s,a[p+10],17,-42063),s=v(s,l,d,c,a[p+11],22,-1990404162),c=v(c,s,l,d,a[p+12],7,1804603682),d=v(d,c,s,l,a[p+13],12,-40341101),l=v(l,d,c,s,a[p+14],17,-1502002290),s=v(s,l,d,c,a[p+15],22,1236535329),c=h(c,s,l,d,a[p+1],5,-165796510),d=h(d,c,s,l,a[p+6],9,-1069501632),l=h(l,d,c,s,a[p+11],14,643717713),s=h(s,l,d,c,a[p+0],20,-373897302),c=h(c,s,l,d,a[p+5],5,-701558691),d=h(d,c,s,l,a[p+10],9,38016083),l=h(l,d,c,s,a[p+15],14,-660478335),s=h(s,l,d,c,a[p+4],20,-405537848),c=h(c,s,l,d,a[p+9],5,568446438),d=h(d,c,s,l,a[p+14],9,-1019803690),l=h(l,d,c,s,a[p+3],14,-187363961),s=h(s,l,d,c,a[p+8],20,1163531501),c=h(c,s,l,d,a[p+13],5,-1444681467),d=h(d,c,s,l,a[p+2],9,-51403784),l=h(l,d,c,s,a[p+7],14,1735328473),s=h(s,l,d,c,a[p+12],20,-1926607734),c=g(c,s,l,d,a[p+5],4,-378558),d=g(d,c,s,l,a[p+8],11,-2022574463),l=g(l,d,c,s,a[p+11],16,1839030562),s=g(s,l,d,c,a[p+14],23,-35309556),c=g(c,s,l,d,a[p+1],4,-1530992060),d=g(d,c,s,l,a[p+4],11,1272893353),l=g(l,d,c,s,a[p+7],16,-155497632),s=g(s,l,d,c,a[p+10],23,-1094730640),c=g(c,s,l,d,a[p+13],4,681279174),d=g(d,c,s,l,a[p+0],11,-358537222),l=g(l,d,c,s,a[p+3],16,-722521979),s=g(s,l,d,c,a[p+6],23,76029189),c=g(c,s,l,d,a[p+9],4,-640364487),d=g(d,c,s,l,a[p+12],11,-421815835),l=g(l,d,c,s,a[p+15],16,530742520),s=g(s,l,d,c,a[p+2],23,-995338651),c=m(c,s,l,d,a[p+0],6,-198630844),d=m(d,c,s,l,a[p+7],10,1126891415),l=m(l,d,c,s,a[p+14],15,-1416354905),s=m(s,l,d,c,a[p+5],21,-57434055),c=m(c,s,l,d,a[p+12],6,1700485571),d=m(d,c,s,l,a[p+3],10,-1894986606),l=m(l,d,c,s,a[p+10],15,-1051523),s=m(s,l,d,c,a[p+1],21,-2054922799),c=m(c,s,l,d,a[p+8],6,1873313359),d=m(d,c,s,l,a[p+15],10,-30611744),l=m(l,d,c,s,a[p+6],15,-1560198380),s=m(s,l,d,c,a[p+13],21,1309151649),c=m(c,s,l,d,a[p+4],6,-145523070),d=m(d,c,s,l,a[p+11],10,-1120210379),l=m(l,d,c,s,a[p+2],15,718787259),s=m(s,l,d,c,a[p+9],21,-343485551),c=c+b>>>0,s=s+y>>>0,l=l+x>>>0,d=d+j>>>0}return e.endian([c,s,l,d])};i._ff=function(t,e,n,r,o,u,i){var a=t+(e&n|~e&r)+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._gg=function(t,e,n,r,o,u,i){var a=t+(e&r|n&~r)+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._hh=function(t,e,n,r,o,u,i){var a=t+(e^n^r)+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._ii=function(t,e,n,r,o,u,i){var a=t+(n^(e|~r))+(o>>>0)+i;return(a<<u|a>>>32-u)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(i(t,n));return n&&n.asBytes?r:n&&n.asString?u.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],u=0;u<4;u++)8*r+6*u<=8*t.length?n.push(e.charAt(o>>>6*(3-u)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,o,u,i,a,f){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,o,u,i,a,f],l=0;c=new Error(n.replace(/%s/g,function(){return s[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(135))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function u(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function i(){h&&p&&(h=!1,p.length?v=p.concat(v):g=-1,v.length&&a())}function a(){if(!h){var t=o(i);h=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,h=!1,u(t)}}function f(t,e){this.fun=t,this.array=e}function c(){}var s,l,d=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,v=[],h=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new f(t,e)),1!==v.length||h||o(a)},f.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=n(119),i=r(u),a=n(121),f=r(a),c=function(){function t(t,e){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(f){o=!0,u=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw u}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(134),d=r(l),p=function(){function t(){o(this,t),this.rules=[]}return s(t,[{key:"addRule",value:function(t,e){this.rules.push([t,e])}},{key:"match",value:function(t){var e=(0,f["default"])(this.rules,function(e){var n=c(e,1),r=n[0];return(0,i["default"])(r,function(e){return e(t)})}),n=c(e,2),r=n[1];return(0,d["default"])(r,"Callback not found :-("),r}}]),t}();e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.metricDefinition;return(e.expression.match(v)||[]).map(function(t){return t.substring(1,t.length-1)})}function u(t){var e=t.metricDefinition;return e.identifier}function i(t,e){var n=e.dependencies,r=(0,l["default"])(t,"identifier");return 0===(0,p["default"])(n,r).length}function a(t,e){for(var n=0;n<e.length;n+=1){var r=e[n];i(t,r)&&(t.push(r),e.splice(n,1),n-=1)}}function f(t){for(var e=[],n=void 0;t.length>0;)if(n=t.length,a(e,t),t.length===n)throw new Error("Metric defintions cannot be sorted due to missing dependencies.");return e}function c(t){var e=t.map(function(t){return{definition:t,identifier:u(t),dependencies:o(t)}});return(0,l["default"])(f(e),"definition")}Object.defineProperty(e,"__esModule",{value:!0});var s=n(120),l=r(s),d=n(138),p=r(d);e.sortDefinitions=c;var v=/{\S+}/g},function(t,e,n){var r=n(139),o=n(79),u=n(49),i=n(35),a=u(function(t,e){return i(t)?r(t,o(e,1,i,!0)):[]});t.exports=a},function(t,e,n){function r(t,e,n,r){var l=-1,d=u,p=!0,v=t.length,h=[],g=e.length;if(!v)return h;n&&(e=a(e,f(n))),r?(d=i,p=!1):e.length>=s&&(d=c,p=!1,e=new o(e));t:for(;++l<v;){var m=t[l],b=null==n?m:n(m);if(m=r||0!==m?m:0,p&&b===b){for(var y=g;y--;)if(e[y]===b)continue t;h.push(m)}else d(e,b,r)||h.push(m)}return h}var o=n(140),u=n(141),i=n(143),a=n(90),f=n(144),c=n(145),s=200;t.exports=r},function(t,e,n){function r(){if(!arguments.length)return[];var t=arguments[0];return o(t)?t:[t]}var o=n(34);t.exports=r},function(t,e,n){function r(t,e){var n=null==t?0:t.length;return!!n&&o(t,e,0)>-1}var o=n(142);t.exports=r},function(t,e){function n(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t,e){var n=null==t?0:t.length;return!!n&&o(t,e,0)>-1}var o=n(142);t.exports=r},function(t,e,n){"use strict";function r(){return(0,s.get)("/gdc/app/account/bootstrap").then(function(t){var e=t.bootstrapResource.current.project;return e?t.bootstrapResource.current.project.links.self.split("/").pop():null})}function o(t){return(0,s.get)("/gdc/account/profile/"+t+"/projects").then(function(t){return t.projects.map(function(t){return t.project})})}function u(t){return(0,s.get)("/gdc/md/"+t+"/query/datasets").then((0,l.getIn)("query.entries"))}function i(t){return(0,s.get)("/gdc/projects/"+t+"/styleSettings").then(function(t){return t.styleSettings.chartPalette.map(function(t){return{r:t.fill.r,g:t.fill.g,b:t.fill.b}})},function(t){if(200===t.status)return d;throw new Error(t.statusText)})}function a(t,e){return(0,s.put)("/gdc/projects/"+t+"/styleSettings",{data:{styleSettings:{chartPalette:e.map(function(t,e){return{fill:t,guid:"guid"+e}})}}})}function f(t){var e="/gdc/app/account/bootstrap?projectId="+t;return(0,s.get)(e).then(function(t){return t.bootstrapResource.current.timezone})}function c(t,e){var n="/gdc/md/"+t+"/service/timezone",r={service:{timezone:e}};return(0,s.ajax)(n,{method:"POST",body:r}).then(s.parseJSON)}Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentProjectId=r,e.getProjects=o,e.getDatasets=u,e.getColorPalette=i,e.setColorPalette=a,e.getTimezone=f,e.setTimezone=c;var s=n(1),l=n(87),d=[{r:43,g:107,b:174},{r:105,g:170,b:81},{r:238,g:177,b:76},{r:213,g:60,b:56},{r:137,g:77,b:148},{r:115,g:115,b:115},{r:68,g:169,b:190},{r:150,g:189,b:95},{r:253,g:147,b:105},{r:225,g:93,b:134},{r:124,g:111,b:173},{r:165,g:165,b:165},{r:122,g:166,b:213},{r:130,g:208,b:141},{r:255,g:210,b:137},{r:241,g:132,b:128},{r:191,g:144,b:198},{r:191,g:191,b:191}]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w(t),r=(0,y.mdToExecutionConfiguration)({buckets:m({},t,{categories:n})},e),o=(0,g["default"])(r,"definitions");return(0,g["default"])(r,"columns").map(function(t){var e=(0,v["default"])(o,function(e){var n=e.metricDefinition;return(0,g["default"])(n,"identifier")===t}),n=(0,g["default"])(e,"metricDefinition.expression");return n?n:t})}function u(t,e){var n="/gdc/internal/projects/"+t+"/loadCatalog";return(0,b.post)(n,{data:{catalogRequest:e}}).then(b.parseJSON).then(function(t){return t.catalogResponse})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d["default"])(m({},x,e,O(e)),["dataSetIdentifier","returnAllDateDataSets"]),r=(0,g["default"])((0,s["default"])(e),"bucketItems.buckets");return r?(r=o(r),u(t,m({},n,{bucketItems:r}))):u(t,n)}function a(t,e){var n="/gdc/internal/projects/"+t+"/loadDateDataSets";return(0,b.post)(n,{data:{dateDataSetsRequest:e}}).then(b.parseJSON).then(function(t){return t.dateDataSetsResponse})}function f(t,e){var n=(0,g["default"])((0,s["default"])(e),"bucketItems.buckets");n&&(n=o(n,{removeDateItems:!0}));var r=(0,d["default"])(m({},j,x,e,O(e),{bucketItems:n}),["filter","types","paging","dataSetIdentifier","returnAllDateDataSets","returnAllRelatedDateDataSets"]);return a(t,r)}Object.defineProperty(e,"__esModule",{value:!0});var c=n(148),s=r(c),l=n(89),d=r(l),p=n(121),v=r(p),h=n(86),g=r(h),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.loadItems=i,e.loadDateDataSets=f;var b=n(1),y=n(88),x={types:["attribute","metric","fact"],paging:{offset:0}},j={includeUnavailableDateDataSetsCount:!0,includeAvailableDateAttributes:!0},w=function(t){return(0,g["default"])(t,"categories").map(function(t){var e=t.category;return{category:m({},e,{displayForm:(0,g["default"])(e,"attribute")})}})},O=function(t){return(0,g["default"])(t,"returnAllRelatedDateDataSets")?{}:(0,g["default"])(t,"returnAllDateDataSets")?{requiredDataSets:{type:"ALL"}}:(0,g["default"])(t,"dataSetIdentifier")?{requiredDataSets:{type:"CUSTOM",customIdentifiers:[(0,g["default"])(t,"dataSetIdentifier")]}}:{requiredDataSets:{type:"PRODUCTION"}}}},function(t,e,n){function r(t){return o(t,u|i)}var o=n(91),u=1,i=4;t.exports=r}])});